@model MinVoiCe.ViewModels.InvoiceViewModel


<div class="addTimeWrapper">
    <div class="projectPanel withShadow lightBG">
        <h1>Create an Invoice//</h1>

        <form asp-controller="Invoice" asp-action="Generator" method="post">
            <div asp-validation-summary="All"></div>

            <p>Create an invoice using worktimes for the selected project:</p>

            <table>
                <tr>
                    <td>
                        <select asp-for="ProjectID" asp-items="Model.SelectProjects"></select>
                    </td>
                    <td class="ProjButtonCell">
                        <input class="bluegreenBG projButton" type="submit" value="CREATE" />
                    </td>
                </tr>
            </table>

        </form>
    </div>

    <div class="worktime">
        @if (Model.PreviousInvoices.Count != 0)
        {
            <img src="~/images/invoice-doc.jpg" />
            <h3>Previous Invoices//</h3>
            <table>

                <tr>
                    <th style="width: 100px;">Invoice No.</th>
                    <th style="width: 150px;">Client</th>
                    <th>Project</th>
                    <th style="width: 100px;">Date Created</th>
                </tr>

                @foreach (Invoice anInvoice in Model.PreviousInvoices)
                {
                    <tr>
                        <td><a asp-controller="Invoice" asp-action="ViewInvoice" asp-route-id="@anInvoice.InvoiceID">@anInvoice.InvoiceID</a></td>
                        <td>@anInvoice.Project.Client.Name</td>
                        <td>@anInvoice.Project.Name</td>
                        <td>@anInvoice.CurrentDate</td>
                    </tr>
                }

            </table>

        }
    </div>

</div>

    

    
